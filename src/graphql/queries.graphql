query Me {
  me {
    image
    login
    meta {
      key
      val
    }
    name
  }
}

query SignIn($login: String!, $password: String!) {
  signIn(login: $login, password: $password)
}

query GetChats($offset: Int = 0, $first: Int = 10) {
  chats(offset: $offset, first: $first) {
    id
    type
    image
    messages(first: 1) {
      createdAt
      createdBy {
        image
        name
      }
      text
    }
    name
  }
}

query Chats($offset: Int = 0, $first: Int = 10) {
  chats(offset: $offset, first: $first) {
    id
    type
    image
    messages(first: 1) {
      createdAt
      createdBy {
        image
        name
      }
      text
    }
    name
  }
}

query Chat($id: ID!) {
  chat(id: $id) {
    id
    type
    image
    meta {
      ...metaField
    }
    name
    owner {
      image
      login
      meta {
        ...metaField
      }
      name
    }
  }
}

fragment metaField on Meta {
  key
  val
}

query User($login: String!) {
  user(login: $login) {
    image
    login
    meta {
      key
      val
    }
    name
  }
}
